<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<title>SnapAim</title>

		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<link href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;500;700;800&display=swap" rel="stylesheet">

		<style>
			* {
				box-sizing: border-box;
				margin: 0;
				padding: 0;
				font-family: "Ubuntu", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
			}

			html, body {
				height: 100%;
				width: 100%;
				overflow: hidden;
				background: #ffffff;
			}

			#bg, #c {
				position: fixed;
				inset: 0;
				width: 100vw;
				height: 100vh;
				display: block;
			}
			#bg { z-index: 0; }
			#c { z-index: 1; }

			:root {
				--menuW: min(720px, calc(100vw - 120px));
				--uiRadius: 8px;
				--outline: rgba(0,0,0,0.92);
				--outlineSize: 2.25px;
				--borderW: 3.75px;
				--bevelTop: rgba(255,255,255,0.65);
				--bevelMid: rgba(0,0,0,0.25);
				--bevelDeep: rgba(0,0,0,0.35);
			}

			.btnOutlinedText {
				color: rgba(255,255,255,0.98);
				text-shadow:
					var(--outlineSize) 0 var(--outline),
					calc(var(--outlineSize) * -1) 0 var(--outline),
					0 var(--outlineSize) var(--outline),
					0 calc(var(--outlineSize) * -1) var(--outline),
					calc(var(--outlineSize) * 0.9) calc(var(--outlineSize) * 0.9) var(--outline),
					calc(var(--outlineSize) * -0.9) calc(var(--outlineSize) * 0.9) var(--outline),
					calc(var(--outlineSize) * 0.9) calc(var(--outlineSize) * -0.9) var(--outline),
					calc(var(--outlineSize) * -0.9) calc(var(--outlineSize) * -0.9) var(--outline);
			}

			.uiBtn {
				width: 360px;
				height: 48px;
				align-self: center;
				border-radius: var(--uiRadius);
				border: var(--borderW) solid rgba(0,0,0,0.22);
				cursor: pointer;
				user-select: none;
				font-weight: 800;
				letter-spacing: 0.3px;
				box-shadow:
					inset 0 1px 0 var(--bevelTop),
					inset 0 -1px 0 var(--bevelMid),
					inset 0 -3px 0 var(--bevelDeep);
				transform: translateY(0);
				filter: brightness(1);
			}

			.uiBtn:active {
				box-shadow:
					inset 0 -1px 0 var(--bevelTop),
					inset 0 1px 0 var(--bevelMid),
					inset 0 3px 0 var(--bevelDeep);
				transform: translateY(1px);
				filter: brightness(0.97);
			}

			.uiBtnBig { height: 52px; font-size: 22px; }
			.uiBtnMed { height: 42px; font-size: 16px; letter-spacing: 0.25px; }
			.uiBtnSm  { height: 38px; font-size: 16px; letter-spacing: 0.25px; }

			.btnGray {
				background: linear-gradient(
					to bottom,
					#b9b9b9 0%,
					#b9b9b9 66.666%,
					#7c7c7c 66.666%,
					#7c7c7c 100%
				);
			}

			.btnBlue {
				background: linear-gradient(
					to bottom,
					#7fb6ff 0%,
					#7fb6ff 66.666%,
					#2f76ff 66.666%,
					#2f76ff 100%
				);
			}

			.btnTeal {
				background: linear-gradient(
					to bottom,
					#7be7e7 0%,
					#7be7e7 66.666%,
					#33c0c0 66.666%,
					#33c0c0 100%
				);
			}

			#menu {
				position: fixed;
				inset: 0;
				display: flex;
				align-items: center;
				justify-content: center;
				z-index: 2;
			}

			#menuInner {
				display: flex;
				flex-direction: column;
				align-items: center;
				gap: 14px;
				width: var(--menuW);
			}

			#titleWrap {
				width: 100%;
				display: flex;
				align-items: center;
				justify-content: center;
				margin-bottom: 4px;
			}

			#siteTitle {
				font-size: 58px;
				font-weight: 900;
				letter-spacing: 0.5px;
				color: rgba(255,255,255,0.98);
				text-shadow:
					3px 0 rgba(0,0,0,0.85),
					-3px 0 rgba(0,0,0,0.85),
					0 3px rgba(0,0,0,0.85),
					0 -3px rgba(0,0,0,0.85),
					2px 2px rgba(0,0,0,0.65),
					-2px 2px rgba(0,0,0,0.65),
					2px -2px rgba(0,0,0,0.65),
					-2px -2px rgba(0,0,0,0.65);
			}

			#menuPanel {
				width: 100%;
				background: rgba(0,0,0,0.35);
				border-radius: 12px;
				padding: 18px 18px 16px 18px;
				box-shadow:
					inset 0 1px 0 rgba(255,255,255,0.25),
					0 18px 40px rgba(0,0,0,0.18);
				backdrop-filter: blur(6px);
				display: flex;
				flex-direction: column;
				gap: 14px;
			}

			#topRow {
				display: flex;
				gap: 14px;
				align-items: center;
				justify-content: center;
				width: 100%;
			}

			.dropWrap {
				flex: 0 1 420px;
				display: flex;
				flex-direction: column;
				gap: 8px;
			}

			.dropLabel {
				font-weight: 900;
				font-size: 16px;
				color: rgba(255,255,255,0.96);
				text-shadow:
					2px 0 rgba(0,0,0,0.85),
					-2px 0 rgba(0,0,0,0.85),
					0 2px rgba(0,0,0,0.85),
					0 -2px rgba(0,0,0,0.85);
			}

			.selectBox {
				width: 100%;
				height: 54px;
				border-radius: 10px;
				border: var(--borderW) solid rgba(0,0,0,0.22);
				background: linear-gradient(
					to bottom,
					#7be7e7 0%,
					#7be7e7 66.666%,
					#33c0c0 66.666%,
					#33c0c0 100%
				);
				box-shadow:
					inset 0 1px 0 rgba(255,255,255,0.70),
					inset 0 -1px 0 rgba(0,0,0,0.18),
					inset 0 -3px 0 rgba(0,0,0,0.20);
				display: flex;
				align-items: center;
				justify-content: center;
				position: relative;
				overflow: hidden;
			}

			#regionSelect {
				appearance: none;
				-webkit-appearance: none;
				-moz-appearance: none;
				width: 100%;
				height: 100%;
				border: none;
				outline: none;
				background: transparent;
				font-weight: 900;
				font-size: 20px;
				padding: 0 52px 0 16px;
				color: rgba(255,255,255,0.98);
				cursor: pointer;
				text-shadow:
					2px 0 rgba(0,0,0,0.85),
					-2px 0 rgba(0,0,0,0.85),
					0 2px rgba(0,0,0,0.85),
					0 -2px rgba(0,0,0,0.85);
			}

			.selectChevron {
				position: absolute;
				right: 16px;
				top: 50%;
				transform: translateY(-50%);
				width: 18px;
				height: 18px;
				pointer-events: none;
				filter: drop-shadow(0 2px 0 rgba(0,0,0,0.35));
			}

			#nameInput {
				width: 100%;
				height: 72px;
				background: rgba(255,255,255,0.95);
				color: #000000;
				border: var(--borderW) solid rgba(0,0,0,0.22);
				border-radius: 10px;
				outline: none;
				font-size: 26px;
				font-weight: 800;
				text-align: left;
				padding: 0 18px;
				box-shadow:
					inset 0 1px 0 rgba(255,255,255,0.75),
					inset 0 -1px 0 rgba(0,0,0,0.18),
					inset 0 -3px 0 rgba(0,0,0,0.22);
			}

			#nameInput::placeholder {
				color: #7a7a7a;
				font-weight: 700;
			}

			#playBtn {
				width: 360px;
			}

			#socialsFab {
				position: fixed;
				left: 14px;
				bottom: 14px;
				width: 56px;
				height: 56px;
				border-radius: 10px;
				border: var(--borderW) solid rgba(0,0,0,0.22);
				background: linear-gradient(
					to bottom,
					#7fb6ff 0%,
					#7fb6ff 66.666%,
					#2f76ff 66.666%,
					#2f76ff 100%
				);
				box-shadow:
					inset 0 1px 0 rgba(255,255,255,0.70),
					inset 0 -1px 0 rgba(0,0,0,0.18),
					inset 0 -3px 0 rgba(0,0,0,0.20),
					0 10px 26px rgba(0,0,0,0.18);
				display: flex;
				align-items: center;
				justify-content: center;
				gap: 6px;
				z-index: 5;
				cursor: pointer;
				user-select: none;
			}

			#socialsFab:active {
				transform: translateY(1px);
				box-shadow:
					inset 0 -1px 0 rgba(255,255,255,0.70),
					inset 0 1px 0 rgba(0,0,0,0.18),
					inset 0 3px 0 rgba(0,0,0,0.20),
					0 8px 22px rgba(0,0,0,0.18);
			}

			.sIcon {
				width: 20px;
				height: 20px;
				filter: drop-shadow(0 2px 0 rgba(0,0,0,0.45));
			}

			#socialsPopup {
				position: fixed;
				left: 14px;
				bottom: 78px;
				z-index: 6;
				display: none;
				flex-direction: column;
				gap: 10px;
				pointer-events: auto;
			}

			.sLink {
				width: 200px;
				height: 44px;
				border-radius: 10px;
				border: var(--borderW) solid rgba(0,0,0,0.22);
				background: rgba(255,255,255,0.92);
				display: flex;
				align-items: center;
				justify-content: flex-start;
				gap: 10px;
				padding: 0 12px;
				text-decoration: none;
				box-shadow:
					inset 0 1px 0 rgba(255,255,255,0.70),
					inset 0 -1px 0 rgba(0,0,0,0.18),
					inset 0 -3px 0 rgba(0,0,0,0.20),
					0 12px 28px rgba(0,0,0,0.18);
			}

			.sLink span {
				font-weight: 900;
				color: rgba(0,0,0,0.85);
			}

			#hudBottom {
				position: fixed;
				left: 50%;
				bottom: 26px;
				transform: translateX(-50%);
				width: min(860px, calc(100vw - 90px));
				display: none;
				flex-direction: column;
				align-items: center;
				gap: 10px;
				pointer-events: none;
				z-index: 3;
			}

			#hudName {
				font-weight: 900;
				font-size: 44px;
				color: rgba(255,255,255,0.98);
				letter-spacing: 0.2px;
				text-shadow:
					3px 0 rgba(0,0,0,0.75),
					-3px 0 rgba(0,0,0,0.75),
					0 3px rgba(0,0,0,0.75),
					0 -3px rgba(0,0,0,0.75),
					2px 2px rgba(0,0,0,0.55),
					-2px 2px rgba(0,0,0,0.55),
					2px -2px rgba(0,0,0,0.55),
					-2px -2px rgba(0,0,0,0.55);
				margin-bottom: -4px;
			}

			.barOuter {
				position: relative;
				width: 100%;
				height: 20px;
				border-radius: 12px;
				overflow: hidden;
				background: rgba(0,0,0,0.10);
				border: 2px solid rgba(0,0,0,0.20);
			}

			.barOuter::after {
				content: "";
				position: absolute;
				inset: 0;
				z-index: 5;
				pointer-events: none;
				box-shadow:
					inset 0 1px 0 rgba(255,255,255,0.70),
					inset 0 -1px 0 rgba(0,0,0,0.18),
					inset 0 -3px 0 rgba(0,0,0,0.20);
			}

			.barFill {
				position: absolute;
				inset: 0;
				width: 0%;
				height: 100%;
				border-radius: 12px;
				z-index: 1;
				overflow: hidden;
			}

			.barFill .shadeBottom {
				position: absolute;
				left: 0;
				right: 0;
				bottom: 0;
				height: 33.333%;
				z-index: 2;
				opacity: 0.35;
				background: rgba(0,0,0,1);
				mix-blend-mode: multiply;
				pointer-events: none;
			}

			.barText {
				position: absolute;
				inset: 0;
				display: flex;
				align-items: center;
				justify-content: center;
				font-weight: 900;
				font-size: 14px;
				line-height: 1;
				color: rgba(255,255,255,0.98);
				user-select: none;
				pointer-events: none;
				z-index: 10;

				-webkit-font-smoothing: antialiased;
				-moz-osx-font-smoothing: grayscale;
				text-rendering: geometricPrecision;

				text-shadow:
					1px 0 rgba(0,0,0,0.90),
					-1px 0 rgba(0,0,0,0.90),
					0 1px rgba(0,0,0,0.90),
					0 -1px rgba(0,0,0,0.90),
					0 2px 6px rgba(0,0,0,0.35);
			}

			#levelRow {
				width: min(520px, 100%);
			}

			#hpRow {
				width: 100%;
			}

			#speedHud {
				position: fixed;
				left: 14px;
				top: 50%;
				transform: translateY(-50%);
				display: none;
				pointer-events: none;
				z-index: 3;
			}

			.vOuter {
				position: relative;
				width: 18px;
				height: 280px;
				border-radius: 12px;
				overflow: hidden;
				background: rgba(0,0,0,0.10);
				border: 2px solid rgba(0,0,0,0.20);
			}

			.vOuter::after {
				content: "";
				position: absolute;
				inset: 0;
				z-index: 5;
				pointer-events: none;
				box-shadow:
					inset 0 1px 0 rgba(255,255,255,0.70),
					inset 0 -1px 0 rgba(0,0,0,0.18),
					inset 0 -3px 0 rgba(0,0,0,0.20);
			}

			.vFill {
				position: absolute;
				left: 0;
				right: 0;
				bottom: 0;
				height: 0%;
				border-radius: 12px;
				z-index: 1;
				overflow: hidden;
			}

			.vFill .shadeBottom {
				position: absolute;
				left: 0;
				right: 0;
				bottom: 0;
				height: 33.333%;
				z-index: 2;
				opacity: 0.35;
				background: rgba(0,0,0,1);
				mix-blend-mode: multiply;
				pointer-events: none;
			}

			#leaderboard {
				position: fixed;
				top: 14px;
				right: 14px;
				z-index: 3;
				width: 260px;
				pointer-events: none;
				background: rgba(255,255,255,0.18);
				backdrop-filter: blur(6px);
				border: 2px solid rgba(0,0,0,0.12);
				border-radius: 10px;
				overflow: hidden;
				display: none;
			}

			#leaderboardHeader {
				padding: 10px 12px;
				font-weight: 900;
				font-size: 14px;
				color: rgba(0,0,0,0.88);
				background: rgba(255,255,255,0.10);
				border-bottom: 1px solid rgba(0,0,0,0.08);
			}

			#leaderboardBody {
				padding: 8px 10px 10px 10px;
				display: flex;
				flex-direction: column;
				gap: 6px;
			}

			.lbRow {
				display: flex;
				justify-content: space-between;
				gap: 10px;
				font-size: 12px;
				font-weight: 900;
				color: rgba(0,0,0,0.85);
				white-space: nowrap;
				overflow: hidden;
				text-overflow: ellipsis;
			}

			.lbName {
				overflow: hidden;
				text-overflow: ellipsis;
				color: rgba(30, 160, 70, 0.95);
			}

			.lbDmg {
				flex: 0 0 auto;
				font-variant-numeric: tabular-nums;
			}

			#deathScreen {
				position: fixed;
				inset: 0;
				z-index: 10;
				display: none;
				align-items: center;
				justify-content: center;
				background: rgba(0,0,0,0.35);
			}

			#deathCard {
				width: min(520px, calc(100vw - 80px));
				background: rgba(255,255,255,0.92);
				border: 1px solid rgba(0,0,0,0.18);
				border-radius: var(--uiRadius);
				display: flex;
				flex-direction: column;
				overflow: hidden;
				padding: 18px;
				align-items: center;
				gap: 10px;
			}

			#deathSmall {
				font-size: 18px;
				font-weight: 900;
				color: rgba(0,0,0,0.72);
			}

			#deathBig {
				font-size: 34px;
				font-weight: 900;
				color: rgba(0,0,0,0.9);
				margin-top: -6px;
			}
		</style>
	</head>

	<body>
		<canvas id="bg"></canvas>
		<canvas id="c"></canvas>

		<div id="leaderboard">
			<div id="leaderboardHeader">Damage</div>
			<div id="leaderboardBody"></div>
		</div>

		<div id="speedHud">
			<div class="vOuter">
				<div id="speedFill" class="vFill">
					<div class="shadeBottom"></div>
				</div>
			</div>
		</div>

		<div id="hudBottom">
			<div id="hudName">Player</div>

			<div id="hpRow" class="barOuter">
				<div id="hpFill" class="barFill">
					<div class="shadeBottom"></div>
				</div>
				<div id="hpText" class="barText">HP: 0/0</div>
			</div>

			<div id="levelRow" class="barOuter">
				<div id="levelFill" class="barFill">
					<div class="shadeBottom"></div>
				</div>
				<div id="levelText" class="barText">Level: 1</div>
			</div>
		</div>

		<div id="menu">
			<div id="menuInner">
				<div id="titleWrap">
					<div id="siteTitle">snapaim.org</div>
				</div>

				<div id="menuPanel">
					<div id="topRow">
						<div class="dropWrap">
							<div class="dropLabel">Region</div>
							<div class="selectBox">
								<select id="regionSelect">
									<option value="auto">Auto</option>
									<option value="frankfurt">Frankfurt</option>
									<option value="virginia">Virginia</option>
									<option value="singapore">Singapore</option>
								</select>
								<svg class="selectChevron" viewBox="0 0 24 24" fill="none" aria-hidden="true">
									<path d="M6 9l6 6 6-6" stroke="rgba(0,0,0,0.75)" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
								</svg>
							</div>
						</div>
					</div>

					<input id="nameInput" maxlength="18" placeholder="Good luck, ... (PUT USERNAME HERE)" />
					<button id="playBtn" class="uiBtn uiBtnBig btnOutlinedText btnBlue">Play!</button>
				</div>
			</div>
		</div>

		<div id="socialsFab" title="Socials">
			<svg class="sIcon" viewBox="0 0 24 24" fill="none" aria-hidden="true">
				<path d="M19.5 6.5c-1.4-1-3.1-1.6-4.9-1.8l-.3.6c-1.5-.2-3.1-.2-4.6 0l-.3-.6c-1.8.2-3.5.8-4.9 1.8C2 10 1.6 13.2 1.8 16.4c1.7 1.3 3.5 2.1 5.5 2.6l.7-1.1c-.7-.3-1.4-.6-2-.9l.5-.4c3.6 1.6 7.5 1.6 11.1 0l.5.4c-.6.3-1.3.6-2 .9l.7 1.1c2-.5 3.8-1.3 5.5-2.6.2-3.2-.2-6.4-2.3-9.9Z" stroke="white" stroke-width="2" stroke-linejoin="round"/>
				<path d="M9 14.5c.6 0 1-.6 1-1.3S9.6 12 9 12s-1 .6-1 1.2.4 1.3 1 1.3Zm6 0c.6 0 1-.6 1-1.3S15.6 12 15 12s-1 .6-1 1.2.4 1.3 1 1.3Z" fill="white"/>
			</svg>
			<svg class="sIcon" viewBox="0 0 24 24" fill="none" aria-hidden="true">
				<path d="M18.9 2H22l-6.8 7.8L23 22h-6.9l-5.4-6.7L4.8 22H2l7.3-8.4L1 2h7.1l4.9 6.1L18.9 2Z" fill="white"/>
			</svg>
		</div>

		<div id="socialsPopup">
			<a class="sLink" href="https://discord.gg/YE4VKhRn2X" target="_blank" rel="noopener noreferrer">
				<svg class="sIcon" viewBox="0 0 24 24" fill="none" aria-hidden="true">
					<path d="M19.5 6.5c-1.4-1-3.1-1.6-4.9-1.8l-.3.6c-1.5-.2-3.1-.2-4.6 0l-.3-.6c-1.8.2-3.5.8-4.9 1.8C2 10 1.6 13.2 1.8 16.4c1.7 1.3 3.5 2.1 5.5 2.6l.7-1.1c-.7-.3-1.4-.6-2-.9l.5-.4c3.6 1.6 7.5 1.6 11.1 0l.5.4c-.6.3-1.3.6-2 .9l.7 1.1c2-.5 3.8-1.3 5.5-2.6.2-3.2-.2-6.4-2.3-9.9Z" stroke="rgba(0,0,0,0.8)" stroke-width="2" stroke-linejoin="round"/>
					<path d="M9 14.5c.6 0 1-.6 1-1.3S9.6 12 9 12s-1 .6-1 1.2.4 1.3 1 1.3Zm6 0c.6 0 1-.6 1-1.3S15.6 12 15 12s-1 .6-1 1.2.4 1.3 1 1.3Z" fill="rgba(0,0,0,0.8)"/>
				</svg>
				<span>Discord</span>
			</a>
			<a class="sLink" href="https://x.com/hexasixdice" target="_blank" rel="noopener noreferrer">
				<svg class="sIcon" viewBox="0 0 24 24" fill="none" aria-hidden="true">
					<path d="M18.9 2H22l-6.8 7.8L23 22h-6.9l-5.4-6.7L4.8 22H2l7.3-8.4L1 2h7.1l4.9 6.1L18.9 2Z" fill="rgba(0,0,0,0.85)"/>
				</svg>
				<span>X</span>
			</a>
		</div>

		<div id="deathScreen">
			<div id="deathCard">
				<div id="deathSmall">You died to</div>
				<div id="deathBig">Unknown</div>
				<button id="continueBtn" class="uiBtn uiBtnSm btnOutlinedText btnGray">Continue</button>
			</div>
		</div>

		<script>
			const socialsFab = document.getElementById("socialsFab");
			const socialsPopup = document.getElementById("socialsPopup");

			function toggleSocials() {
				if (!socialsPopup) return;
				socialsPopup.style.display = socialsPopup.style.display === "flex" ? "none" : "flex";
			}

			if (socialsFab) socialsFab.addEventListener("click", toggleSocials);

			window.addEventListener("pointerdown", (e) => {
				if (!socialsPopup || !socialsFab) return;
				const t = e.target;
				if (socialsPopup.style.display !== "flex") return;
				if (socialsPopup.contains(t) || socialsFab.contains(t)) return;
				socialsPopup.style.display = "none";
			});

			const bg = document.getElementById("bg");
			const bctx = bg ? bg.getContext("2d") : null;

			function resizeBg() {
				if (!bg) return;
				bg.width = window.innerWidth;
				bg.height = window.innerHeight;
			}
			window.addEventListener("resize", resizeBg);
			resizeBg();

			let ox = 0, oy = 0;
			const spacing = 40;
			const speed = 0.22;

			function drawGrid() {
				if (!bg || !bctx) return;

				bctx.clearRect(0, 0, bg.width, bg.height);
				bctx.fillStyle = "#ffffff";
				bctx.fillRect(0, 0, bg.width, bg.height);
				bctx.strokeStyle = "#e2e2e2";
				bctx.lineWidth = 1;

				ox -= speed;
				oy -= speed;
				if (ox <= -spacing) ox += spacing;
				if (oy <= -spacing) oy += spacing;

				for (let x = ox; x < bg.width; x += spacing) {
					bctx.beginPath();
					bctx.moveTo(x, 0);
					bctx.lineTo(x, bg.height);
					bctx.stroke();
				}
				for (let y = oy; y < bg.height; y += spacing) {
					bctx.beginPath();
					bctx.moveTo(0, y);
					bctx.lineTo(bg.width, y);
					bctx.stroke();
				}

				requestAnimationFrame(drawGrid);
			}
			drawGrid();
		</script>

		<script defer src="./main.js"></script>
	</body>
</html>
