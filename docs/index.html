<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>snapaim.org</title>
    <meta name="theme-color" content="#0b0f1a" />
    <style>
      :root{
        --bg0:#070914;
        --bg1:#0b1030;
        --glass: rgba(255,255,255,.06);
        --glass2: rgba(255,255,255,.10);
        --stroke: rgba(255,255,255,.12);
        --stroke2: rgba(255,255,255,.18);
        --text: rgba(255,255,255,.92);
        --muted: rgba(255,255,255,.70);
        --muted2: rgba(255,255,255,.55);
        --shadow: 0 18px 70px rgba(0,0,0,.55);
        --shadow2: 0 10px 40px rgba(0,0,0,.35);
        --radius: 18px;
        --radius2: 26px;
        --ease: cubic-bezier(.2,.9,.2,1);
        --accent1:#7c5cff;
        --accent2:#00d4ff;
        --accent3:#ff3d9a;
        --good:#25f7a7;
        --bad:#ff5a7a;
      }

      *{box-sizing:border-box}
      html,body{height:100%}
      body{
        margin:0;
        font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
        color:var(--text);
        background:
          radial-gradient(1200px 900px at 18% 12%, rgba(124,92,255,.28), transparent 60%),
          radial-gradient(1100px 850px at 82% 16%, rgba(0,212,255,.22), transparent 60%),
          radial-gradient(900px 700px at 60% 90%, rgba(255,61,154,.12), transparent 60%),
          linear-gradient(180deg, var(--bg0), var(--bg1));
        overflow:hidden;
      }

      .grain{
        position:fixed; inset:0;
        pointer-events:none;
        opacity:.08;
        background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='120' height='120'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='120' height='120' filter='url(%23n)' opacity='.6'/%3E%3C/svg%3E");
        background-size:180px 180px;
        mix-blend-mode:overlay;
      }

      .wrap{height:100%; display:grid; place-items:center; padding:24px}
      .shell{
        width:min(980px, 96vw);
        height:min(640px, 92vh);
        border-radius: var(--radius2);
        background: linear-gradient(180deg, rgba(255,255,255,.07), rgba(255,255,255,.03));
        border:1px solid var(--stroke);
        box-shadow: var(--shadow);
        position:relative;
        overflow:hidden;
      }

      .topGlow{
        position:absolute; inset:-120px -120px auto -120px;
        height:280px;
        background: radial-gradient(closest-side, rgba(124,92,255,.34), transparent 70%);
        filter: blur(18px);
        opacity:.9;
      }

      .content{
        position:absolute; inset:0;
        display:grid;
        grid-template-columns: 1.1fr .9fr;
        gap: 18px;
        padding: 22px;
      }

      .pane{
        border-radius: var(--radius);
        background: rgba(0,0,0,.18);
        border:1px solid var(--stroke);
        box-shadow: var(--shadow2);
        overflow:hidden;
        position:relative;
      }

      .paneInner{height:100%; padding:18px; display:flex; flex-direction:column; gap:14px}
      .brand{
        display:flex; align-items:center; justify-content:space-between;
        gap:12px;
      }
      .logo{
        display:flex; align-items:center; gap:12px;
        user-select:none;
      }
      .mark{
        width:38px; height:38px; border-radius:14px;
        background: radial-gradient(circle at 30% 30%, rgba(255,255,255,.22), rgba(255,255,255,.04));
        border:1px solid var(--stroke2);
        display:grid; place-items:center;
        box-shadow: 0 12px 40px rgba(0,0,0,.35);
        position:relative;
        overflow:hidden;
      }
      .mark:before{
        content:"";
        position:absolute; inset:-12px;
        background: conic-gradient(from 120deg, rgba(124,92,255,.95), rgba(0,212,255,.9), rgba(255,61,154,.85), rgba(124,92,255,.95));
        opacity:.55;
        filter: blur(12px);
      }
      .mark svg{position:relative}
      .title{
        display:flex; flex-direction:column; line-height:1.05;
      }
      .title h1{
        margin:0;
        font-size: 18px;
        letter-spacing:.6px;
        font-weight: 750;
      }
      .title .sub{
        margin-top:4px;
        font-size:12.5px;
        color:var(--muted2);
      }

      .chipRow{display:flex; gap:10px; flex-wrap:wrap}
      .chip{
        display:inline-flex; align-items:center; gap:8px;
        padding:8px 10px;
        border-radius: 999px;
        background: rgba(255,255,255,.06);
        border:1px solid var(--stroke);
        color:var(--muted);
        font-size:12.5px;
        user-select:none;
      }
      .dot{
        width:8px; height:8px; border-radius:999px;
        background: rgba(255,255,255,.25);
        box-shadow: 0 0 0 4px rgba(255,255,255,.05);
      }
      .dot.good{background: rgba(37,247,167,.9); box-shadow: 0 0 0 4px rgba(37,247,167,.14)}
      .dot.bad{background: rgba(255,90,122,.92); box-shadow: 0 0 0 4px rgba(255,90,122,.14)}

      .card{
        flex:1;
        border-radius: var(--radius);
        background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
        border:1px solid var(--stroke);
        padding:16px;
        position:relative;
        overflow:hidden;
      }
      .card:before{
        content:"";
        position:absolute; inset:-60px -60px auto -60px;
        height:160px;
        background: radial-gradient(closest-side, rgba(0,212,255,.18), transparent 70%);
        filter: blur(18px);
      }
      .card h2{
        margin:0 0 6px 0;
        font-size: 16px;
        letter-spacing:.4px;
      }
      .card p{
        margin:0 0 14px 0;
        color:var(--muted2);
        font-size: 13px;
        line-height:1.45;
      }

      .fieldLabel{
        font-size:12px;
        color:var(--muted2);
        margin-bottom:6px;
      }
      .field{
        display:flex; gap:10px;
      }
      input[type="text"], select{
        width:100%;
        border-radius: 14px;
        border:1px solid var(--stroke);
        background: rgba(0,0,0,.20);
        color:var(--text);
        padding: 12px 12px;
        outline:none;
        transition: transform .15s var(--ease), border-color .15s var(--ease), background .15s var(--ease);
        font-size:14px;
      }
      select{cursor:pointer}
      input[type="text"]:focus, select:focus{
        border-color: rgba(124,92,255,.55);
        background: rgba(0,0,0,.26);
      }

      .btnRow{display:flex; gap:10px; margin-top:12px}
      .btn{
        border:1px solid var(--stroke);
        background: rgba(255,255,255,.06);
        color:var(--text);
        border-radius: 14px;
        padding: 12px 14px;
        cursor:pointer;
        user-select:none;
        font-weight:650;
        letter-spacing:.2px;
        transition: transform .12s var(--ease), background .12s var(--ease), border-color .12s var(--ease), filter .12s var(--ease);
        display:inline-flex;
        align-items:center;
        justify-content:center;
        gap:10px;
        width:100%;
      }
      .btn:hover{transform: translateY(-1px); background: rgba(255,255,255,.09); border-color: rgba(255,255,255,.20)}
      .btn:active{transform: translateY(1px) scale(.99); filter: brightness(.95)}
      .btn.primary{
        border-color: rgba(124,92,255,.55);
        background: linear-gradient(180deg, rgba(124,92,255,.35), rgba(124,92,255,.16));
        box-shadow: 0 18px 60px rgba(124,92,255,.15);
      }
      .btn.primary:hover{border-color: rgba(124,92,255,.75)}
      .btn .spark{
        width:10px; height:10px; border-radius:999px;
        background: rgba(0,212,255,.85);
        box-shadow: 0 0 0 5px rgba(0,212,255,.12);
      }

      .right{
        display:flex; flex-direction:column;
        gap: 14px;
      }

      .gamePane{
        flex:1;
        border-radius: var(--radius);
        background: rgba(0,0,0,.22);
        border:1px solid var(--stroke);
        overflow:hidden;
        position:relative;
      }

      canvas{display:block; width:100%; height:100%}

      .hud{
        position:absolute; inset:0;
        pointer-events:none;
      }
      .hudTop{
        position:absolute; left:14px; right:14px; top:12px;
        display:flex; justify-content:space-between; gap:10px;
        pointer-events:none;
      }
      .pill{
        pointer-events:none;
        display:inline-flex; align-items:center; gap:8px;
        padding:8px 10px;
        border-radius: 999px;
        background: rgba(0,0,0,.25);
        border:1px solid rgba(255,255,255,.12);
        backdrop-filter: blur(10px);
        color: rgba(255,255,255,.88);
        font-size:12.5px;
        box-shadow: 0 10px 40px rgba(0,0,0,.25);
      }
      .kbd{
        font-size:11px;
        padding:2px 6px;
        border-radius: 8px;
        border:1px solid rgba(255,255,255,.14);
        background: rgba(255,255,255,.06);
        color: rgba(255,255,255,.85);
      }

      .centerMsg{
        position:absolute; left:50%; top:50%;
        transform: translate(-50%,-50%);
        text-align:center;
        width:min(420px, 88%);
        pointer-events:none;
      }
      .centerMsg .big{
        font-size: 18px;
        font-weight: 800;
        letter-spacing:.4px;
        margin:0 0 6px 0;
      }
      .centerMsg .small{
        margin:0;
        font-size: 13px;
        color: var(--muted2);
        line-height:1.45;
      }

      .socialBtn{
        position:absolute; left:16px; bottom:16px;
        width:52px; height:52px;
        border-radius: 14px;
        border:1px solid rgba(255,255,255,.14);
        background: rgba(0,0,0,.25);
        backdrop-filter: blur(12px);
        box-shadow: 0 12px 40px rgba(0,0,0,.35);
        display:grid; place-items:center;
        cursor:pointer;
        transition: transform .12s var(--ease), background .12s var(--ease), border-color .12s var(--ease);
        z-index: 8;
      }
      .socialBtn:hover{transform: translateY(-1px); border-color: rgba(255,255,255,.20); background: rgba(0,0,0,.30)}
      .socialBtn:active{transform: translateY(1px) scale(.99)}
      .socialIcons{
        display:flex; gap:8px; align-items:center; justify-content:center;
        opacity:.92;
      }
      .socialIcons svg{width:16px; height:16px; fill:white; opacity:.92}

      .settingsBtn{
        position:absolute; right:16px; bottom:16px;
        width:52px; height:52px;
        border-radius: 14px;
        border:1px solid rgba(255,255,255,.14);
        background: rgba(0,0,0,.25);
        backdrop-filter: blur(12px);
        box-shadow: 0 12px 40px rgba(0,0,0,.35);
        display:grid; place-items:center;
        cursor:pointer;
        transition: transform .12s var(--ease), background .12s var(--ease), border-color .12s var(--ease);
        z-index: 8;
      }
      .settingsBtn:hover{transform: translateY(-1px); border-color: rgba(255,255,255,.20); background: rgba(0,0,0,.30)}
      .settingsBtn:active{transform: translateY(1px) scale(.99)}
      .settingsBtn svg{width:18px; height:18px; fill:white; opacity:.9}

      .drawer{
        position:absolute; right:14px; bottom:76px;
        width:min(360px, calc(100% - 28px));
        border-radius: 18px;
        border:1px solid rgba(255,255,255,.14);
        background: rgba(10,12,24,.62);
        backdrop-filter: blur(16px);
        box-shadow: 0 18px 70px rgba(0,0,0,.55);
        overflow:hidden;
        transform: translateY(10px) scale(.985);
        opacity:0;
        pointer-events:none;
        transition: transform .18s var(--ease), opacity .18s var(--ease);
        z-index: 9;
      }
      .drawer.open{
        opacity:1;
        pointer-events:auto;
        transform: translateY(0) scale(1);
      }
      .drawerHead{
        padding:12px 14px;
        display:flex; align-items:center; justify-content:space-between;
        border-bottom:1px solid rgba(255,255,255,.10);
      }
      .drawerHead .t{
        font-weight:800;
        letter-spacing:.3px;
        font-size:13px;
      }
      .drawerHead .x{
        width:34px; height:34px;
        border-radius: 12px;
        border:1px solid rgba(255,255,255,.14);
        background: rgba(255,255,255,.06);
        cursor:pointer;
        display:grid; place-items:center;
        transition: transform .12s var(--ease), background .12s var(--ease);
      }
      .drawerHead .x:hover{transform: translateY(-1px); background: rgba(255,255,255,.09)}
      .drawerHead .x:active{transform: translateY(1px)}
      .drawerBody{padding:12px 14px; display:flex; flex-direction:column; gap:12px}
      .row{
        display:grid;
        grid-template-columns: 1fr 120px;
        gap: 10px;
        align-items:center;
      }
      .row .name{
        font-size:12.5px;
        color: rgba(255,255,255,.82);
      }
      .row .desc{
        font-size:11.5px;
        color: rgba(255,255,255,.55);
        margin-top:2px;
      }
      input[type="range"]{
        width:100%;
        accent-color: rgba(124,92,255,.85);
      }
      .val{
        font-variant-numeric: tabular-nums;
        font-size:12px;
        color: rgba(255,255,255,.75);
        text-align:right;
      }

      .toast{
        position:absolute;
        left:50%; bottom:16px;
        transform: translateX(-50%) translateY(14px);
        opacity:0;
        padding:10px 12px;
        border-radius: 999px;
        border:1px solid rgba(255,255,255,.14);
        background: rgba(0,0,0,.28);
        backdrop-filter: blur(12px);
        color: rgba(255,255,255,.86);
        font-size: 12.5px;
        display:flex; gap:10px; align-items:center;
        box-shadow: 0 12px 40px rgba(0,0,0,.35);
        transition: transform .18s var(--ease), opacity .18s var(--ease);
        z-index: 10;
        pointer-events:none;
      }
      .toast.show{
        opacity:1;
        transform: translateX(-50%) translateY(0);
      }
      .toast .badge{
        width:9px; height:9px; border-radius: 999px;
        background: rgba(37,247,167,.9);
        box-shadow: 0 0 0 5px rgba(37,247,167,.12);
      }

      @media (max-width: 860px){
        .content{grid-template-columns: 1fr; }
        .shell{height:min(740px, 94vh)}
      }
    </style>
  </head>
  <body>
    <div class="grain"></div>

    <div class="wrap">
      <div class="shell" id="shell">
        <div class="topGlow"></div>

        <div class="content">
          <div class="pane">
            <div class="paneInner">
              <div class="brand">
                <div class="logo">
                  <div class="mark" aria-hidden="true">
                    <svg width="22" height="22" viewBox="0 0 24 24">
                      <path fill="white" opacity="0.92" d="M12 2c5.523 0 10 4.477 10 10s-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2Zm0 3.2A6.8 6.8 0 1 0 18.8 12 6.808 6.808 0 0 0 12 5.2Zm0 2.6A4.2 4.2 0 1 1 7.8 12 4.206 4.206 0 0 1 12 7.8Zm0 2.3a1.9 1.9 0 1 0 1.9 1.9 1.903 1.903 0 0 0-1.9-1.9Z"/>
                    </svg>
                  </div>
                  <div class="title">
                    <h1>snapaim.org</h1>
                    <div class="sub">indie aim trainer • quick sessions • clean feel</div>
                  </div>
                </div>
              </div>

              <div class="chipRow">
                <div class="chip"><span class="dot" id="wsDot"></span><span id="wsText">Connecting…</span></div>
                <div class="chip"><span class="dot" id="pingDot"></span><span id="pingText">Ping —</span></div>
                <div class="chip"><span class="dot good"></span><span>Press <span class="kbd">Space</span> to start</span></div>
              </div>

              <div class="card">
                <h2>Enter & play</h2>
                <p>Pick a nickname and region. No modes—just pure aim. Everything else is tweakable in settings.</p>

                <div class="fieldLabel">Nickname</div>
                <div class="field">
                  <input id="nickname" type="text" maxlength="16" placeholder="e.g. younus" autocomplete="off" />
                </div>

                <div style="height:10px"></div>

                <div class="fieldLabel">Region</div>
                <div class="field">
                  <select id="region">
                    <option value="eu">EU</option>
                    <option value="na">NA</option>
                    <option value="me">ME</option>
                    <option value="asia">ASIA</option>
                    <option value="oce">OCE</option>
                    <option value="sa">SA</option>
                  </select>
                </div>

                <div class="btnRow">
                  <button class="btn primary" id="playBtn">
                    <span class="spark"></span>
                    <span>Play</span>
                  </button>
                  <button class="btn" id="practiceBtn">Practice</button>
                </div>

                <div style="margin-top:12px; color:var(--muted2); font-size:12px;">
                  Tip: Open settings (bottom-right) to tune sensitivity, shake, target size, and spawn rate.
                </div>
              </div>
            </div>
          </div>

          <div class="right">
            <div class="gamePane">
              <canvas id="game"></canvas>

              <div class="hud">
                <div class="hudTop">
                  <div class="pill" id="leftPill">Score <span style="opacity:.85; font-variant-numeric: tabular-nums" id="score">0</span></div>
                  <div class="pill" id="rightPill">
                    <span>Acc <span style="opacity:.85; font-variant-numeric: tabular-nums" id="acc">0%</span></span>
                    <span style="opacity:.35">•</span>
                    <span>Streak <span style="opacity:.85; font-variant-numeric: tabular-nums" id="streak">0</span></span>
                  </div>
                </div>

                <div class="centerMsg" id="centerMsg">
                  <p class="big">Ready.</p>
                  <p class="small">Click to lock pointer. Hit targets fast. <span class="kbd">Esc</span> to unlock. <span class="kbd">Tab</span> to toggle settings.</p>
                </div>
              </div>

              <button class="socialBtn" id="socialBtn" title="Socials">
                <div class="socialIcons" aria-hidden="true">
                  <svg viewBox="0 0 24 24">
                    <path d="M18.9 2H22l-6.8 7.8L23 22h-6.2l-4.9-6.4L6.2 22H3l7.4-8.5L1 2h6.4l4.4 5.7L18.9 2Zm-1.1 18h1.7L6.1 3.9H4.3L17.8 20Z"/>
                  </svg>
                  <svg viewBox="0 0 24 24">
                    <path d="M19.6 4.6A16.3 16.3 0 0 0 15.9 3c-.2.4-.4.9-.6 1.3-1.3-.2-2.6-.2-3.9 0-.2-.4-.4-.9-.6-1.3A16.1 16.1 0 0 0 7 4.6 16.9 16.9 0 0 0 3 17.9a16 16 0 0 0 4.9 2.5c.4-.5.7-1 .9-1.6-.5-.2-1-.4-1.4-.7l.3-.3c2.7 1.3 5.6 1.3 8.4 0l.3.3c-.5.3-.9.5-1.4.7.2.6.5 1.1.9 1.6A16 16 0 0 0 20.9 18 16.9 16.9 0 0 0 19.6 4.6ZM9.2 15.4c-.8 0-1.5-.7-1.5-1.6 0-.9.6-1.6 1.5-1.6.8 0 1.5.7 1.5 1.6 0 .9-.6 1.6-1.5 1.6Zm5.6 0c-.8 0-1.5-.7-1.5-1.6 0-.9.6-1.6 1.5-1.6s1.5.7 1.5 1.6c0 .9-.7 1.6-1.5 1.6Z"/>
                  </svg>
                </div>
              </button>

              <button class="settingsBtn" id="settingsBtn" title="Settings">
                <svg viewBox="0 0 24 24">
                  <path d="M19.14 12.94c.04-.31.06-.63.06-.94s-.02-.63-.06-.94l2.03-1.58a.5.5 0 0 0 .12-.64l-1.92-3.32a.5.5 0 0 0-.6-.22l-2.39.96a7.16 7.16 0 0 0-1.63-.94l-.36-2.54A.5.5 0 0 0 13.9 1h-3.8a.5.5 0 0 0-.49.42l-.36 2.54c-.58.23-1.12.54-1.63.94l-2.39-.96a.5.5 0 0 0-.6.22L2.71 7.48a.5.5 0 0 0 .12.64l2.03 1.58c-.04.31-.06.63-.06.94s.02.63.06.94L2.83 14.5a.5.5 0 0 0-.12.64l1.92 3.32c.13.23.4.32.64.22l2.39-.96c.5.4 1.05.71 1.63.94l.36 2.54c.04.24.25.42.49.42h3.8c.24 0 .45-.18.49-.42l.36-2.54c.58-.23 1.12-.54 1.63-.94l2.39.96c.24.1.51.01.64-.22l1.92-3.32a.5.5 0 0 0-.12-.64l-2.03-1.56ZM12 15.5A3.5 3.5 0 1 1 12 8a3.5 3.5 0 0 1 0 7.5Z"/>
                </svg>
              </button>

              <div class="drawer" id="drawer">
                <div class="drawerHead">
                  <div class="t">Settings</div>
                  <button class="x" id="closeDrawer" aria-label="Close">
                    <svg width="14" height="14" viewBox="0 0 24 24">
                      <path fill="white" opacity="0.9" d="M18.3 5.7 12 12l6.3 6.3-1.3 1.3L10.7 13.3 4.4 19.6 3.1 18.3 9.4 12 3.1 5.7 4.4 4.4l6.3 6.3 6.3-6.3 1.3 1.3Z"/>
                    </svg>
                  </button>
                </div>
                <div class="drawerBody">
                  <div class="row">
                    <div>
                      <div class="name">Sensitivity</div>
                      <div class="desc">Mouse feel / speed</div>
                    </div>
                    <div>
                      <input id="sens" type="range" min="0.2" max="3" step="0.05" />
                      <div class="val" id="sensVal"></div>
                    </div>
                  </div>

                  <div class="row">
                    <div>
                      <div class="name">Target size</div>
                      <div class="desc">Bigger = easier</div>
                    </div>
                    <div>
                      <input id="tSize" type="range" min="10" max="56" step="1" />
                      <div class="val" id="tSizeVal"></div>
                    </div>
                  </div>

                  <div class="row">
                    <div>
                      <div class="name">Spawn rate</div>
                      <div class="desc">More = faster</div>
                    </div>
                    <div>
                      <input id="spawn" type="range" min="0.45" max="1.6" step="0.01" />
                      <div class="val" id="spawnVal"></div>
                    </div>
                  </div>

                  <div class="row">
                    <div>
                      <div class="name">Shake</div>
                      <div class="desc">Juice on hit</div>
                    </div>
                    <div>
                      <input id="shake" type="range" min="0" max="1" step="0.02" />
                      <div class="val" id="shakeVal"></div>
                    </div>
                  </div>

                  <div class="row">
                    <div>
                      <div class="name">Sound</div>
                      <div class="desc">Hit + click</div>
                    </div>
                    <div>
                      <input id="sound" type="range" min="0" max="1" step="0.02" />
                      <div class="val" id="soundVal"></div>
                    </div>
                  </div>

                  <button class="btn" id="resetBtn">Reset stats</button>
                </div>
              </div>

              <div class="toast" id="toast">
                <span class="badge"></span>
                <span id="toastText">Saved</span>
              </div>
            </div>

            <div class="pane" style="height: 122px;">
              <div class="paneInner" style="justify-content:center;">
                <div style="display:flex; justify-content:space-between; align-items:center; gap:12px;">
                  <div style="display:flex; flex-direction:column; gap:4px;">
                    <div style="font-weight:800; letter-spacing:.3px;">Session</div>
                    <div style="color:var(--muted2); font-size:12.5px;">
                      <span id="sessionName">—</span> • <span id="sessionRegion">—</span>
                    </div>
                  </div>
                  <div style="display:flex; gap:10px;">
                    <button class="btn" id="stopBtn" style="width:auto; padding:10px 12px;">Stop</button>
                    <button class="btn primary" id="restartBtn" style="width:auto; padding:10px 12px;">
                      <span class="spark"></span><span>Restart</span>
                    </button>
                  </div>
                </div>
                <div style="color:var(--muted2); font-size:12px;">
                  Press <span class="kbd">Space</span> to start/stop, <span class="kbd">Tab</span> settings, <span class="kbd">R</span> restart.
                </div>
              </div>
            </div>
          </div>
        </div>

      </div>
    </div>

    <script type="module" src="/main.js"></script>
  </body>
</html>
